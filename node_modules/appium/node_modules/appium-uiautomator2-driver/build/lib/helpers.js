'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});
var helpers = {};

helpers.ensureInternetPermissionForApp = function callee$0$0(adb, app) {
  var has, msg;
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        context$1$0.next = 2;
        return _regeneratorRuntime.awrap(adb.hasInternetPermissionFromManifest(app));

      case 2:
        has = context$1$0.sent;

        if (!has) {
          context$1$0.next = 5;
          break;
        }

        return context$1$0.abrupt('return');

      case 5:
        msg = 'Your apk does not have INTERNET permissions. Uiautomator2 needs ' + 'the internet permission to proceed. Please check if you have ' + '<uses-permission android:name="android.**permission.INTERNET"/>' + 'in your AndroidManifest.xml';
        throw new Error(msg);

      case 7:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

exports['default'] = helpers;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYlxcaGVscGVycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDOztBQUVqQixPQUFPLENBQUMsOEJBQThCLEdBQUcsb0JBQWdCLEdBQUcsRUFBRSxHQUFHO01BQzNELEdBQUcsRUFJSCxHQUFHOzs7Ozt5Q0FKUyxHQUFHLENBQUMsaUNBQWlDLENBQUMsR0FBRyxDQUFDOzs7QUFBdEQsV0FBRzs7YUFDSCxHQUFHOzs7Ozs7OztBQUdILFdBQUcsR0FBRyxrRUFBa0UsR0FDbEUsK0RBQStELEdBQy9ELGlFQUFpRSxHQUNqRSw2QkFBNkI7Y0FDakMsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDOzs7Ozs7O0NBQ3JCLENBQUM7O3FCQUVhLE9BQU8iLCJmaWxlIjoibGliXFxoZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IGhlbHBlcnMgPSB7fTtcclxuXHJcbmhlbHBlcnMuZW5zdXJlSW50ZXJuZXRQZXJtaXNzaW9uRm9yQXBwID0gYXN5bmMgZnVuY3Rpb24gKGFkYiwgYXBwKSB7XHJcbiAgbGV0IGhhcyA9IGF3YWl0IGFkYi5oYXNJbnRlcm5ldFBlcm1pc3Npb25Gcm9tTWFuaWZlc3QoYXBwKTtcclxuICBpZiAoaGFzKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGxldCBtc2cgPSAnWW91ciBhcGsgZG9lcyBub3QgaGF2ZSBJTlRFUk5FVCBwZXJtaXNzaW9ucy4gVWlhdXRvbWF0b3IyIG5lZWRzICcgK1xyXG4gICAgICAgICAgICAndGhlIGludGVybmV0IHBlcm1pc3Npb24gdG8gcHJvY2VlZC4gUGxlYXNlIGNoZWNrIGlmIHlvdSBoYXZlICcgK1xyXG4gICAgICAgICAgICAnPHVzZXMtcGVybWlzc2lvbiBhbmRyb2lkOm5hbWU9XCJhbmRyb2lkLioqcGVybWlzc2lvbi5JTlRFUk5FVFwiLz4nICtcclxuICAgICAgICAgICAgJ2luIHlvdXIgQW5kcm9pZE1hbmlmZXN0LnhtbCc7XHJcbiAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBoZWxwZXJzO1xyXG4iXX0=